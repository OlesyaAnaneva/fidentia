{"version":3,"sources":["components/AdminPanel.js","Router.js","App.js","index.js"],"names":["AdminPanel","_ref","type","items","setItems","useState","title","setTitle","description","setDescription","image","setImage","videoLink","setVideoLink","selectedItemId","setSelectedItemId","editing","setEditing","editTitle","setEditTitle","editDescription","setEditDescription","useEffect","fetchData","async","response","axios","get","concat","data","error","console","resetState","handleDeleteItemClick","id","imageLink","delete","alert","deleteItem","_jsxs","className","children","_jsx","map","item","onClick","itemId","selectedItem","find","selectItem","value","onChange","e","target","placeholder","files","accept","formData","FormData","append","imageResponse","post","handleAddItemClick","addItem","AppRouter","Router","Routes","Route","path","element","App","ReactDOM","render","React","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.e160efb0.chunk.js","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport './styles.css';\n\nconst AdminPanel = ({ type }) => {\n\tconst [items, setItems] = useState([]);\n\tconst [title, setTitle] = useState('');\n\tconst [description, setDescription] = useState('');\n\tconst [image, setImage] = useState(null);\n\tconst [videoLink, setVideoLink] = useState('');\n\tconst [selectedItemId, setSelectedItemId] = useState(null);\n\tconst [editing, setEditing] = useState(false);\n\tconst [editTitle, setEditTitle] = useState('');\n\tconst [editDescription, setEditDescription] = useState('');\n\n\tuseEffect(() => {\n\t\tfetchData();\n\t}, [type]);\n\n\tconst fetchData = async () => {\n\t\ttry {\n\t\t\tconst response = await axios.get(`/admin/${type}`);\n\t\t\tsetItems(response.data);\n\t\t} catch (error) {\n\t\t\tconsole.error('Ошибка при получении данных:', error);\n\t\t}\n\t};\n\n\tconst addItem = async () => {\n\t\ttry {\n\t\t\tlet data = { title, description };\n\n\t\t\tif (type === 'posts') {\n\t\t\t\tconst formData = new FormData();\n\t\t\t\tformData.append('image', image);\n\t\t\t\tconst imageResponse = await axios.post('/admin/upload-image', formData);\n\t\t\t\tdata.imageLink = `/assets/${imageResponse.data}`;\n\t\t\t} else if (type === 'videos') {\n\t\t\t\tdata.videoLink = videoLink;\n\t\t\t}\n\n\t\t\tawait axios.post(`/admin/add-${type}`, data);\n\t\t\talert(`${type === 'posts' ? 'Пост' : 'Видео'} успешно добавлен`);\n\t\t\tresetState();\n\t\t\tfetchData();\n\t\t} catch (error) {\n\t\t\tconsole.error('Ошибка при добавлении элемента:', error);\n\t\t\talert(\n\t\t\t\t`Произошла ошибка при добавлении ${\n\t\t\t\t\ttype === 'posts' ? 'поста' : 'видео'\n\t\t\t\t}`\n\t\t\t);\n\t\t}\n\t};\n\n\tconst updateItem = async () => {\n\t\ttry {\n\t\t\tlet data = {\n\t\t\t\tid: selectedItemId,\n\t\t\t\ttitle: editTitle,\n\t\t\t\tdescription: editDescription,\n\t\t\t};\n\n\t\t\tif (type === 'posts') {\n\t\t\t\tconst formData = new FormData();\n\t\t\t\tformData.append('image', image);\n\t\t\t\tconst imageResponse = await axios.post('/admin/upload-image', formData);\n\t\t\t\tdata.imageLink = `/assets/${imageResponse.data}`;\n\t\t\t}\n\n\t\t\tawait axios.post(`/admin/edit-${type}`, data);\n\t\t\talert(`${type === 'posts' ? 'Пост' : 'Видео'} успешно изменено`);\n\t\t\tresetState();\n\t\t\tfetchData();\n\t\t} catch (error) {\n\t\t\tconsole.error('Ошибка при изменении элемента:', error);\n\t\t\talert(\n\t\t\t\t`Произошла ошибка при изменении ${type === 'posts' ? 'поста' : 'видео'}`\n\t\t\t);\n\t\t}\n\t};\n\n\tconst deleteItem = async (id, imageLink) => {\n\t\ttry {\n\t\t\tawait axios.delete(`/admin/delete-${type}/${id}`, {\n\t\t\t\tdata: { imageLink },\n\t\t\t});\n\t\t\talert(`${type === 'posts' ? 'Пост' : 'Видео'} успешно удалено`);\n\t\t\tfetchData();\n\t\t} catch (error) {\n\t\t\tconsole.error('Ошибка при удалении элемента:', error);\n\t\t\talert(\n\t\t\t\t`Произошла ошибка при удалении ${type === 'posts' ? 'поста' : 'видео'}`\n\t\t\t);\n\t\t}\n\t};\n\n\tconst selectItem = (itemId) => {\n\t\tconst selectedItem = items.find((item) => item.id === itemId);\n\t\tsetEditTitle(selectedItem.title);\n\t\tsetEditDescription(selectedItem.description);\n\t\tsetSelectedItemId(itemId);\n\t\tsetEditing(true);\n\t};\n\n\tconst resetState = () => {\n\t\tsetTitle('');\n\t\tsetDescription('');\n\t\tsetImage(null);\n\t\tsetVideoLink('');\n\t\tsetSelectedItemId(null);\n\t\tsetEditTitle('');\n\t\tsetEditDescription('');\n\t\tsetEditing(false);\n\t};\n\n\tconst handleAddItemClick = () => {\n\t\taddItem();\n\t};\n\n\tconst handleDeleteItemClick = (id, imageLink) => {\n\t\tdeleteItem(id, imageLink);\n\t};\n\n\treturn (\n\t\t<div className='admin-container'>\n\t\t\t<h2 className='admin-container-title'>\n\t\t\t\t{type === 'posts' ? 'Посты' : 'Видео'}\n\t\t\t</h2>\n\t\t\t<ul className='admin-content-ul'>\n\t\t\t\t{items.map((item) => (\n\t\t\t\t\t<li className='admin-content-li' key={item.id}>\n\t\t\t\t\t\t<div className='admin-content-title'>\n\t\t\t\t\t\t\tЗаголовок поста: <p>{item.title}</p>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className='admin-content-description'>\n\t\t\t\t\t\t\tОписание поста: <p>{item.description}</p>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t{type === 'posts' && (\n\t\t\t\t\t\t\t<div className='admin-content-link'>\n\t\t\t\t\t\t\t\tСсылка на изображение: <p>{item.imageLink}</p>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t)}\n\t\t\t\t\t\t<button\n\t\t\t\t\t\t\tclassName='admin-content-edit-button'\n\t\t\t\t\t\t\tonClick={() => selectItem(item.id)}>\n\t\t\t\t\t\t\tИзменить {type === 'posts' ? 'пост' : 'видео'}\n\t\t\t\t\t\t</button>\n\t\t\t\t\t\t<button\n\t\t\t\t\t\t\tclassName='admin-content-delete-button'\n\t\t\t\t\t\t\tonClick={() => handleDeleteItemClick(item.id, item.imageLink)}>\n\t\t\t\t\t\t\tУдалить {type === 'posts' ? 'пост' : 'видео'}\n\t\t\t\t\t\t</button>\n\t\t\t\t\t</li>\n\t\t\t\t))}\n\t\t\t</ul>\n\t\t\t{editing && (\n\t\t\t\t<div className='admin-content-edit-container'>\n\t\t\t\t\t<h3 className='admin-content-edit-container-title'>\n\t\t\t\t\t\tИзменить {type === 'posts' ? 'пост' : 'видео'}\n\t\t\t\t\t</h3>\n\t\t\t\t\t<input\n\t\t\t\t\t\ttype='text'\n\t\t\t\t\t\tvalue={editTitle}\n\t\t\t\t\t\tonChange={(e) => setEditTitle(e.target.value)}\n\t\t\t\t\t\tplaceholder='Заголовок'\n\t\t\t\t\t\tclassName='admin-content-edit-container-input'\n\t\t\t\t\t/>\n\t\t\t\t\t<textarea\n\t\t\t\t\t\tvalue={editDescription}\n\t\t\t\t\t\tonChange={(e) => setEditDescription(e.target.value)}\n\t\t\t\t\t\tplaceholder='Описание'\n\t\t\t\t\t\tclassName='admin-content-edit-container-textarea'></textarea>\n\t\t\t\t\t{type === 'posts' && (\n\t\t\t\t\t\t<input\n\t\t\t\t\t\t\ttype='file'\n\t\t\t\t\t\t\tonChange={(e) => setImage(e.target.files[0])}\n\t\t\t\t\t\t\taccept='image/*'\n\t\t\t\t\t\t\tclassName='admin-content-edit-container-input2'\n\t\t\t\t\t\t/>\n\t\t\t\t\t)}\n\t\t\t\t\t<button\n\t\t\t\t\t\tclassName='admin-content-edit-container-button-save'\n\t\t\t\t\t\tonClick={updateItem}>\n\t\t\t\t\t\tСохранить\n\t\t\t\t\t</button>\n\t\t\t\t\t<button\n\t\t\t\t\t\tclassName='admin-content-edit-container-return-button'\n\t\t\t\t\t\tonClick={resetState}>\n\t\t\t\t\t\tОтмена\n\t\t\t\t\t</button>\n\t\t\t\t</div>\n\t\t\t)}\n\t\t\t<h3>Добавить {type === 'posts' ? 'пост' : 'видео'}</h3>\n\t\t\t<input\n\t\t\t\ttype='text'\n\t\t\t\tvalue={title}\n\t\t\t\tonChange={(e) => setTitle(e.target.value)}\n\t\t\t\tplaceholder='Заголовок'\n\t\t\t\tclassName='admin-content-add-container-title'\n\t\t\t/>\n\t\t\t<textarea\n\t\t\t\tvalue={description}\n\t\t\t\tonChange={(e) => setDescription(e.target.value)}\n\t\t\t\tplaceholder='Описание'\n\t\t\t\tclassName='admin-content-add-container-textarea'></textarea>\n\t\t\t{type === 'posts' && (\n\t\t\t\t<input\n\t\t\t\t\ttype='file'\n\t\t\t\t\tonChange={(e) => setImage(e.target.files[0])}\n\t\t\t\t\taccept='image/*'\n\t\t\t\t\tclassName='admin-content-add-container-input'\n\t\t\t\t/>\n\t\t\t)}\n\t\t\t{type === 'videos' && (\n\t\t\t\t<input\n\t\t\t\t\ttype='text'\n\t\t\t\t\tvalue={videoLink}\n\t\t\t\t\tonChange={(e) => setVideoLink(e.target.value)}\n\t\t\t\t\tplaceholder='Ссылка на видео'\n\t\t\t\t\tclassName='admin-content-add-container-input2'\n\t\t\t\t/>\n\t\t\t)}\n\t\t\t<button\n\t\t\t\tonClick={handleAddItemClick}\n\t\t\t\tclassName='admin-content-add-container-add-button'>\n\t\t\t\tДобавить {type === 'posts' ? 'пост' : 'видео'}\n\t\t\t</button>\n\t\t</div>\n\t);\n};\n\nexport default AdminPanel;\n","import React from 'react';\nimport { BrowserRouter as Router, Route, Routes } from 'react-router-dom';\nimport AdminPanel from './components/AdminPanel';\n\nconst AppRouter = () => {\n\treturn (\n\t\t<Router>\n\t\t\t<Routes>\n\t\t\t\t<Route path='/admin/posts' element={<AdminPanel type='posts' />} />\n\t\t\t\t<Route path='/admin/videos' element={<AdminPanel type='videos' />} />\n\t\t\t</Routes>\n\t\t</Router>\n\t);\n};\n\nexport default AppRouter;\n","// import React from 'react';\n// import AdminPanel from './components/AdminPanel';\n\n// function App() {\n// \treturn (\n// \t\t<div className='App'>\n// \t\t\t<AdminPanel type='posts' />\n// \t\t</div>\n// \t);\n// }\n\n// export default App;\nimport React from 'react';\nimport AppRouter from './Router';\n\nfunction App() {\n\treturn (\n\t\t<div className='App'>\n\t\t\t<AppRouter />\n\t\t</div>\n\t);\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(\n\t<React.StrictMode>\n\t\t<App />\n\t</React.StrictMode>,\n\tdocument.getElementById('root')\n);\n"],"sourceRoot":""}