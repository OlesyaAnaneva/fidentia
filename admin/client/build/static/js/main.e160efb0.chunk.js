(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{41:function(t,e,a){},43:function(t,e,a){"use strict";a.r(e);var n=a(0),c=a.n(n),s=a(8),i=a.n(s),o=a(18),l=a(2),d=a(5),r=a.n(d),j=(a(41),a(3));var p=t=>{let{type:e}=t;const[a,c]=Object(n.useState)([]),[s,i]=Object(n.useState)(""),[o,l]=Object(n.useState)(""),[d,p]=Object(n.useState)(null),[m,b]=Object(n.useState)(""),[u,h]=Object(n.useState)(null),[O,x]=Object(n.useState)(!1),[g,v]=Object(n.useState)(""),[N,y]=Object(n.useState)("");Object(n.useEffect)((()=>{k()}),[e]);const k=async()=>{try{const t=await r.a.get("/admin/".concat(e));c(t.data)}catch(t){console.error("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u043f\u043e\u043b\u0443\u0447\u0435\u043d\u0438\u0438 \u0434\u0430\u043d\u043d\u044b\u0445:",t)}},f=()=>{i(""),l(""),p(null),b(""),h(null),v(""),y(""),x(!1)},C=(t,a)=>{(async(t,a)=>{try{await r.a.delete("/admin/delete-".concat(e,"/").concat(t),{data:{imageLink:a}}),alert("".concat("posts"===e?"\u041f\u043e\u0441\u0442":"\u0412\u0438\u0434\u0435\u043e"," \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0443\u0434\u0430\u043b\u0435\u043d\u043e")),k()}catch(n){console.error("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u0443\u0434\u0430\u043b\u0435\u043d\u0438\u0438 \u044d\u043b\u0435\u043c\u0435\u043d\u0442\u0430:",n),alert("\u041f\u0440\u043e\u0438\u0437\u043e\u0448\u043b\u0430 \u043e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u0443\u0434\u0430\u043b\u0435\u043d\u0438\u0438 ".concat("posts"===e?"\u043f\u043e\u0441\u0442\u0430":"\u0432\u0438\u0434\u0435\u043e"))}})(t,a)};return Object(j.jsxs)("div",{className:"admin-container",children:[Object(j.jsx)("h2",{className:"admin-container-title",children:"posts"===e?"\u041f\u043e\u0441\u0442\u044b":"\u0412\u0438\u0434\u0435\u043e"}),Object(j.jsx)("ul",{className:"admin-content-ul",children:a.map((t=>Object(j.jsxs)("li",{className:"admin-content-li",children:[Object(j.jsxs)("div",{className:"admin-content-title",children:["\u0417\u0430\u0433\u043e\u043b\u043e\u0432\u043e\u043a \u043f\u043e\u0441\u0442\u0430: ",Object(j.jsx)("p",{children:t.title})]}),Object(j.jsxs)("div",{className:"admin-content-description",children:["\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435 \u043f\u043e\u0441\u0442\u0430: ",Object(j.jsx)("p",{children:t.description})]}),"posts"===e&&Object(j.jsxs)("div",{className:"admin-content-link",children:["\u0421\u0441\u044b\u043b\u043a\u0430 \u043d\u0430 \u0438\u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u0435: ",Object(j.jsx)("p",{children:t.imageLink})]}),Object(j.jsxs)("button",{className:"admin-content-edit-button",onClick:()=>(t=>{const e=a.find((e=>e.id===t));v(e.title),y(e.description),h(t),x(!0)})(t.id),children:["\u0418\u0437\u043c\u0435\u043d\u0438\u0442\u044c ","posts"===e?"\u043f\u043e\u0441\u0442":"\u0432\u0438\u0434\u0435\u043e"]}),Object(j.jsxs)("button",{className:"admin-content-delete-button",onClick:()=>C(t.id,t.imageLink),children:["\u0423\u0434\u0430\u043b\u0438\u0442\u044c ","posts"===e?"\u043f\u043e\u0441\u0442":"\u0432\u0438\u0434\u0435\u043e"]})]},t.id)))}),O&&Object(j.jsxs)("div",{className:"admin-content-edit-container",children:[Object(j.jsxs)("h3",{className:"admin-content-edit-container-title",children:["\u0418\u0437\u043c\u0435\u043d\u0438\u0442\u044c ","posts"===e?"\u043f\u043e\u0441\u0442":"\u0432\u0438\u0434\u0435\u043e"]}),Object(j.jsx)("input",{type:"text",value:g,onChange:t=>v(t.target.value),placeholder:"\u0417\u0430\u0433\u043e\u043b\u043e\u0432\u043e\u043a",className:"admin-content-edit-container-input"}),Object(j.jsx)("textarea",{value:N,onChange:t=>y(t.target.value),placeholder:"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435",className:"admin-content-edit-container-textarea"}),"posts"===e&&Object(j.jsx)("input",{type:"file",onChange:t=>p(t.target.files[0]),accept:"image/*",className:"admin-content-edit-container-input2"}),Object(j.jsx)("button",{className:"admin-content-edit-container-button-save",onClick:async()=>{try{let t={id:u,title:g,description:N};if("posts"===e){const e=new FormData;e.append("image",d);const a=await r.a.post("/admin/upload-image",e);t.imageLink="/assets/".concat(a.data)}await r.a.post("/admin/edit-".concat(e),t),alert("".concat("posts"===e?"\u041f\u043e\u0441\u0442":"\u0412\u0438\u0434\u0435\u043e"," \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u043e")),f(),k()}catch(t){console.error("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u0438 \u044d\u043b\u0435\u043c\u0435\u043d\u0442\u0430:",t),alert("\u041f\u0440\u043e\u0438\u0437\u043e\u0448\u043b\u0430 \u043e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u0438 ".concat("posts"===e?"\u043f\u043e\u0441\u0442\u0430":"\u0432\u0438\u0434\u0435\u043e"))}},children:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"}),Object(j.jsx)("button",{className:"admin-content-edit-container-return-button",onClick:f,children:"\u041e\u0442\u043c\u0435\u043d\u0430"})]}),Object(j.jsxs)("h3",{children:["\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c ","posts"===e?"\u043f\u043e\u0441\u0442":"\u0432\u0438\u0434\u0435\u043e"]}),Object(j.jsx)("input",{type:"text",value:s,onChange:t=>i(t.target.value),placeholder:"\u0417\u0430\u0433\u043e\u043b\u043e\u0432\u043e\u043a",className:"admin-content-add-container-title"}),Object(j.jsx)("textarea",{value:o,onChange:t=>l(t.target.value),placeholder:"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435",className:"admin-content-add-container-textarea"}),"posts"===e&&Object(j.jsx)("input",{type:"file",onChange:t=>p(t.target.files[0]),accept:"image/*",className:"admin-content-add-container-input"}),"videos"===e&&Object(j.jsx)("input",{type:"text",value:m,onChange:t=>b(t.target.value),placeholder:"\u0421\u0441\u044b\u043b\u043a\u0430 \u043d\u0430 \u0432\u0438\u0434\u0435\u043e",className:"admin-content-add-container-input2"}),Object(j.jsxs)("button",{onClick:()=>{(async()=>{try{let t={title:s,description:o};if("posts"===e){const e=new FormData;e.append("image",d);const a=await r.a.post("/admin/upload-image",e);t.imageLink="/assets/".concat(a.data)}else"videos"===e&&(t.videoLink=m);await r.a.post("/admin/add-".concat(e),t),alert("".concat("posts"===e?"\u041f\u043e\u0441\u0442":"\u0412\u0438\u0434\u0435\u043e"," \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d")),f(),k()}catch(t){console.error("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0438\u0438 \u044d\u043b\u0435\u043c\u0435\u043d\u0442\u0430:",t),alert("\u041f\u0440\u043e\u0438\u0437\u043e\u0448\u043b\u0430 \u043e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0438\u0438 ".concat("posts"===e?"\u043f\u043e\u0441\u0442\u0430":"\u0432\u0438\u0434\u0435\u043e"))}})()},className:"admin-content-add-container-add-button",children:["\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c ","posts"===e?"\u043f\u043e\u0441\u0442":"\u0432\u0438\u0434\u0435\u043e"]})]})};var m=()=>Object(j.jsx)(o.a,{children:Object(j.jsxs)(l.c,{children:[Object(j.jsx)(l.a,{path:"/admin/posts",element:Object(j.jsx)(p,{type:"posts"})}),Object(j.jsx)(l.a,{path:"/admin/videos",element:Object(j.jsx)(p,{type:"videos"})})]})});var b=function(){return Object(j.jsx)("div",{className:"App",children:Object(j.jsx)(m,{})})};i.a.render(Object(j.jsx)(c.a.StrictMode,{children:Object(j.jsx)(b,{})}),document.getElementById("root"))}},[[43,1,2]]]);
//# sourceMappingURL=main.e160efb0.chunk.js.map