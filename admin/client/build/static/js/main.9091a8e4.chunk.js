(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{48:function(t,e,n){},53:function(t,e,n){"use strict";n.r(e);var a=n(0),c=n.n(a),s=n(20),i=n(8),o=n(2),d=n(5),l=n.n(d),r=(n(48),n(3));var p=t=>{let{type:e}=t;const[n,c]=Object(a.useState)([]),[s,i]=Object(a.useState)(""),[o,d]=Object(a.useState)(""),[p,m]=Object(a.useState)(null),[j,b]=Object(a.useState)(""),[u,h]=Object(a.useState)(""),[O,x]=Object(a.useState)(null),[v,g]=Object(a.useState)(!1),[N,k]=Object(a.useState)(""),[f,y]=Object(a.useState)(""),[C,L]=Object(a.useState)(""),[S,w]=Object(a.useState)("");Object(a.useEffect)((()=>{D()}),[e]);const D=async()=>{try{const t=await l.a.get("/admin/".concat(e));c(t.data)}catch(t){console.error("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u043f\u043e\u043b\u0443\u0447\u0435\u043d\u0438\u0438 \u0434\u0430\u043d\u043d\u044b\u0445:",t)}},E=()=>{i(""),d(""),m(null),b(""),x(null),k(""),y(""),g(!1)},F=(t,n)=>{(async(t,n)=>{try{await l.a.delete("/admin/delete-".concat(e,"/").concat(t),{data:{imageLink:n}}),alert("".concat("posts"===e?"\u041f\u043e\u0441\u0442":"\u0412\u0438\u0434\u0435\u043e"," \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0443\u0434\u0430\u043b\u0435\u043d\u043e")),D()}catch(a){console.error("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u0443\u0434\u0430\u043b\u0435\u043d\u0438\u0438 \u044d\u043b\u0435\u043c\u0435\u043d\u0442\u0430:",a),alert("\u041f\u0440\u043e\u0438\u0437\u043e\u0448\u043b\u0430 \u043e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u0443\u0434\u0430\u043b\u0435\u043d\u0438\u0438 ".concat("posts"===e?"\u043f\u043e\u0441\u0442\u0430":"\u0432\u0438\u0434\u0435\u043e"))}})(t,n)};return Object(r.jsxs)("div",{className:"admin-container",children:[Object(r.jsx)("h2",{className:"admin-container-title",children:"posts"===e?"\u041f\u043e\u0441\u0442\u044b":"\u0412\u0438\u0434\u0435\u043e"}),Object(r.jsxs)("h3",{children:["\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c ","posts"===e?"\u043f\u043e\u0441\u0442":"\u0432\u0438\u0434\u0435\u043e"]}),"posts"===e&&Object(r.jsx)("input",{type:"text",value:s,onChange:t=>i(t.target.value),placeholder:"\u0417\u0430\u0433\u043e\u043b\u043e\u0432\u043e\u043a",className:"admin-content-add-container-title"}),"posts"===e&&Object(r.jsx)("textarea",{value:o,onChange:t=>d(t.target.value),placeholder:"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435",className:"admin-content-add-container-textarea"}),"posts"===e&&Object(r.jsx)("input",{type:"file",onChange:t=>m(t.target.files[0]),accept:"image/*",className:"admin-content-add-container-input"}),"posts"===e&&Object(r.jsx)("input",{type:"date",value:u,onChange:t=>h(t.target.value),placeholder:"\u0414\u0430\u0442\u0430 \u043f\u0443\u0431\u043b\u0438\u043a\u0430\u0446\u0438\u0438",className:"admin-content-edit-container-input"}),"videos"===e&&Object(r.jsx)("input",{type:"text",value:j,onChange:t=>b(t.target.value),placeholder:"\u0421\u0441\u044b\u043b\u043a\u0430 \u043d\u0430 \u0432\u0438\u0434\u0435\u043e",className:"admin-content-add-container-input2"}),Object(r.jsxs)("button",{onClick:()=>{(async()=>{try{let t={title:s,description:o,timestamp:u};if("posts"===e){const e=new FormData;e.append("image",p);const n=await l.a.post("/admin/upload-image",e);t.imageLink="/assets/".concat(n.data)}else"videos"===e&&(t.videoLink=j);await l.a.post("/admin/add-".concat(e),t),alert("".concat("posts"===e?"\u041f\u043e\u0441\u0442":"\u0412\u0438\u0434\u0435\u043e"," \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d")),E(),D()}catch(t){console.error("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0438\u0438 \u044d\u043b\u0435\u043c\u0435\u043d\u0442\u0430:",t),alert("\u041f\u0440\u043e\u0438\u0437\u043e\u0448\u043b\u0430 \u043e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0438\u0438 ".concat("posts"===e?"\u043f\u043e\u0441\u0442\u0430":"\u0432\u0438\u0434\u0435\u043e"))}})()},className:"admin-content-add-container-add-button",children:["\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c ","posts"===e?"\u043f\u043e\u0441\u0442":"\u0432\u0438\u0434\u0435\u043e"]}),Object(r.jsx)("ul",{className:"admin-content-ul",children:n.map((t=>Object(r.jsxs)("li",{className:"admin-content-li",children:["posts"===e&&Object(r.jsxs)("div",{className:"admin-content-title",children:[Object(r.jsx)("p",{className:"admin-content-p1",children:"\u0417\u0430\u0433\u043e\u043b\u043e\u0432\u043e\u043a:"}),Object(r.jsx)("p",{className:"admin-content-p",children:t.title})]}),"posts"===e&&Object(r.jsxs)("div",{className:"admin-content-description",children:[Object(r.jsx)("p",{className:"admin-content-p1",children:"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435:"}),Object(r.jsx)("p",{className:"admin-content-p",children:t.description})]}),Object(r.jsxs)("div",{className:"admin-content-link",children:[Object(r.jsxs)("p",{className:"admin-content-p1",children:["\u0421\u0441\u044b\u043b\u043a\u0430 \u043d\u0430 ","posts"===e?"\u0438\u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u0435 \u043a \u043f\u043e\u0441\u0442\u0443":"\u0432\u0438\u0434\u0435\u043e"]}),Object(r.jsx)("p",{className:"admin-content-p",children:"posts"===e?"".concat(t.imageLink):Object(r.jsx)("a",{href:t.videoLink,children:t.videoLink})})]}),"posts"===e&&Object(r.jsxs)("div",{className:"admin-content-timestamp",children:[Object(r.jsx)("p",{className:"admin-content-p1",children:"\u0414\u0430\u0442\u0430 \u043f\u0443\u0431\u043b\u0438\u043a\u0430\u0446\u0438\u0438 \u043f\u043e\u0441\u0442\u0430"}),Object(r.jsx)("p",{className:"admin-content-p",children:t.timestamp})]}),Object(r.jsxs)("button",{className:"admin-content-edit-button",onClick:()=>(t=>{const e=n.find((e=>e.id===t));k(e.title),y(e.description),x(t),g(!0)})(t.id),children:["\u0418\u0437\u043c\u0435\u043d\u0438\u0442\u044c ","posts"===e?"\u043f\u043e\u0441\u0442":"\u0432\u0438\u0434\u0435\u043e"]}),Object(r.jsxs)("button",{className:"admin-content-delete-button",onClick:()=>F(t.id,t.imageLink),children:["\u0423\u0434\u0430\u043b\u0438\u0442\u044c ","posts"===e?"\u043f\u043e\u0441\u0442":"\u0432\u0438\u0434\u0435\u043e"]}),v&&O===t.id&&Object(r.jsxs)("div",{className:"admin-content-edit-container",children:[Object(r.jsxs)("h3",{className:"admin-content-edit-container-title",children:["\u0418\u0437\u043c\u0435\u043d\u0438\u0442\u044c ","posts"===e?"\u043f\u043e\u0441\u0442":"\u0432\u0438\u0434\u0435\u043e"]}),"posts"===e&&Object(r.jsx)("input",{type:"text",value:""===N?t.title:N,onChange:t=>k(t.target.value),placeholder:"\u0417\u0430\u0433\u043e\u043b\u043e\u0432\u043e\u043a",className:"admin-content-edit-container-input"}),"posts"===e&&Object(r.jsx)("textarea",{value:""===f?t.description:f,onChange:t=>y(t.target.value),placeholder:"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435",className:"admin-content-edit-container-textarea"}),"posts"===e&&Object(r.jsx)("input",{type:"file",onChange:t=>m(t.target.files[0]),accept:"image/*",className:"admin-content-edit-container-input2"}),"posts"===e&&Object(r.jsx)("input",{type:"date",value:""===C?t.timestamp:C,onChange:t=>L(t.target.value),placeholder:"\u0414\u0430\u0442\u0430 \u043f\u0443\u0431\u043b\u0438\u043a\u0430\u0446\u0438\u0438",className:"admin-content-edit-container-input"}),"videos"===e&&Object(r.jsx)("input",{type:"text",value:""===j?t.videoLink:j,onChange:t=>b(t.target.value),placeholder:"\u0421\u0441\u044b\u043b\u043a\u0430 \u043d\u0430 \u0432\u0438\u0434\u0435\u043e",className:"admin-content-add-container-input2"}),Object(r.jsx)("button",{className:"admin-content-edit-container-button-save",onClick:()=>(async()=>{try{let t={id:O,title:""===N?n.find((t=>t.id===O)).title:N,description:""===f?n.find((t=>t.id===O)).description:f,timestamp:""===C?n.find((t=>t.id===O)).timestamp:C};if("posts"===e){const e=new FormData;if(p){e.append("image",p);const n=await l.a.post("/admin/upload-image",e);t.imageLink="/assets/".concat(n.data)}else{const e=n.find((t=>t.id===O));t.imageLink=e.imageLink}}else if("videos"===e){const e=n.find((t=>t.id===O)).videoLink;t.videoLink=e||S}await l.a.post("/admin/edit-".concat(e),t),alert("".concat("posts"===e?"\u041f\u043e\u0441\u0442":"\u0412\u0438\u0434\u0435\u043e"," \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u043e")),E(),D()}catch(t){console.error("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u0438 \u044d\u043b\u0435\u043c\u0435\u043d\u0442\u0430:",t),alert("\u041f\u0440\u043e\u0438\u0437\u043e\u0448\u043b\u0430 \u043e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u0438 ".concat("posts"===e?"\u043f\u043e\u0441\u0442\u0430":"\u0432\u0438\u0434\u0435\u043e"))}})(t.id),children:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"}),Object(r.jsx)("button",{className:"admin-content-edit-container-return-button",onClick:E,children:"\u041e\u0442\u043c\u0435\u043d\u0430"})]})]},t.id)))})]})};var m=()=>Object(r.jsx)(i.a,{children:Object(r.jsxs)(o.c,{children:[Object(r.jsx)(o.a,{path:"/admin/posts",element:Object(r.jsx)(p,{type:"posts"})}),Object(r.jsx)(o.a,{path:"/admin/videos",element:Object(r.jsx)(p,{type:"videos"})})]})});var j=function(){return Object(r.jsx)("div",{className:"App",children:Object(r.jsx)(m,{})})};Object(s.createRoot)(document.getElementById("root")).render(Object(r.jsx)(c.a.StrictMode,{children:Object(r.jsx)(i.a,{children:Object(r.jsx)(j,{})})}))}},[[53,1,2]]]);
//# sourceMappingURL=main.9091a8e4.chunk.js.map